---
title: "Spring Bootë¡œ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°"
categories:
  - Spring Boot
tags:
  - Spring Boot
last_modified_at:
---

#### ğŸ“Œ ìš©ì–´ ì„¤ëª…
- Spring Boot: ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ê¸°ë°˜ìœ¼ë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‰½ê²Œ ë§Œë“œëŠ” ë„êµ¬  
- MultipartFile: ìŠ¤í”„ë§ì—ì„œ íŒŒì¼ ì—…ë¡œë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ë„êµ¬. ì‚¬ìš©ìê°€ ì›¹ì—ì„œ íŒŒì¼(ì‚¬ì§„, ë¬¸ì„œ ë“±)ì„ ì„ íƒí•˜ë©´ ì´ íŒŒì¼ì„ ì„œë²„ë¡œ ë³´ë‚´ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°ì²´. íŒŒì¼ ì´ë¦„, í¬ê¸°, í˜•ì‹ ë“±ì„ ë‹´ê³  ìˆìŒ  
- Resource: ìŠ¤í”„ë§ì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œë¥¼ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê°ì²´. ì„œë²„ì— ì €ì¥ëœ íŒŒì¼ì„ ì‚¬ìš©ìì—ê²Œ ë³´ë‚´ê¸° ìœ„í•´ ì¤€ë¹„  
- REST API: ì›¹ì—ì„œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ë°©ë²•. HTTP ìš”ì²­(ì˜ˆ: GET, POST)ìœ¼ë¡œ ë™ì‘  
- Thymeleaf: ìŠ¤í”„ë§ì—ì„œ HTML í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ë§Œë“œëŠ” í…œí”Œë¦¿ ì—”ì§„  
- Gradle: í”„ë¡œì íŠ¸ ë¹Œë“œì™€ ì˜ì¡´ì„±(í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬) ê´€ë¦¬ ë„êµ¬. ì½”ë“œ íŒ¨í‚¤ì§• ê°„ì†Œí™”  

---

#### ğŸ“Œ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ êµ¬í˜„ ì´ìœ 
1. ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤ìŠµ ê¸°íšŒ  
2. íŒŒì¼ ì²˜ë¦¬ ë¡œì§ ì´í•´  
3. REST API í™œìš© í•™ìŠµ  
4. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì—°ê³„  
5. ì‹¤ì œ í”„ë¡œì íŠ¸ ê¸°ëŠ¥ êµ¬í˜„ ê²½í—˜  

---

#### ğŸ“Œ ì¤€ë¹„ í•­ëª©
1. JDK 21 ì„¤ì¹˜  
2. IntelliJ IDEA Community  
3. ê¸°ë³¸ ìŠ¤í”„ë§ë¶€íŠ¸ ì§€ì‹ (ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ ê°œë…)  
4. Thymeleaf í…œí”Œë¦¿ ê¸°ë³¸ ì‚¬ìš©ë²•  

---

#### ğŸ“Œ Spring Bootë¡œ íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ êµ¬í˜„ ë°©ë²•
##### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ì„¤ì •
1. Spring Initializr ì ‘ì† (start.spring.io)  
2. ì„¤ì •: Gradle (Groovy), Java 21, Spring Web, Thymeleaf ì„ íƒ  
3. í”„ë¡œì íŠ¸ ë‹¤ìš´ë¡œë“œ ë° IntelliJ IDEA Communityì—ì„œ ì—´ê¸°  
4. application.ymlì— íŒŒì¼ ì—…ë¡œë“œ ì„¤ì • ì¶”ê°€ (src/main/resources/application.yml)  
```yaml  
spring:  
  servlet:  
    multipart:  
      max-file-size: 10MB  
      max-request-size: 10MB  
```

##### 2ë‹¨ê³„: íŒŒì¼ ì—…ë¡œë“œ êµ¬í˜„
1. ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„± (FileController.java)    
```java  
package com.example.demo.controller;  

import org.springframework.stereotype.Controller;  
import org.springframework.web.bind.annotation.GetMapping;  
import org.springframework.web.bind.annotation.PostMapping;  
import org.springframework.web.multipart.MultipartFile;  
import org.springframework.web.servlet.mvc.support.RedirectAttributes;  

import java.io.IOException;  
import java.nio.file.Files;  
import java.nio.file.Path;  
import java.nio.file.Paths;  

@Controller  
public class FileController {  
    private static String UPLOAD_DIR = "uploads/";  

    @GetMapping("/")  
    public String index() {  
        return "index";  
    }  

    @PostMapping("/upload")  
    public String uploadFile(MultipartFile file, RedirectAttributes attributes) {  
        if (file.isEmpty()) {  
            attributes.addFlashAttribute("message", "íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”");  
            return "redirect:/";  
        }  
        try {  
            byte[] bytes = file.getBytes();  
            Path path = Paths.get(UPLOAD_DIR + file.getOriginalFilename());  
            Files.createDirectories(path.getParent());  
            Files.write(path, bytes);  
            attributes.addFlashAttribute("message", "íŒŒì¼ ì—…ë¡œë“œ ì„±ê³µ: " + file.getOriginalFilename());  
        } catch (IOException e) {  
            attributes.addFlashAttribute("message", "íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨");  
        }  
        return "redirect:/";  
    }  
}  
```  
1. Thymeleaf í…œí”Œë¦¿ ìƒì„± (src/main/resources/templates/index.html)  
```html  
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
    <title>íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ</title>  
</head>  
<body>  
    <h1>íŒŒì¼ ì—…ë¡œë“œ</h1>  
    <form method="post" action="/upload" enctype="multipart/form-data">  
        <input type="file" name="file">  
        <button type="submit">ì—…ë¡œë“œ</button>  
    </form>  
    <p th:if="${message}" th:text="${message}"></p>  
</body>  
</html>  
```  

##### 3ë‹¨ê³„: íŒŒì¼ ë‹¤ìš´ë¡œë“œ êµ¬í˜„
1. FileController.javaì— ë‹¤ìš´ë¡œë“œ ë©”ì„œë“œ ì¶”ê°€  
```java  
import org.springframework.core.io.Resource;  
import org.springframework.core.io.UrlResource;  
import org.springframework.http.HttpHeaders;  
import org.springframework.http.ResponseEntity;  

@GetMapping("/download/{filename:.+}")
public ResponseEntity<Resource> downloadFile(@PathVariable String filename) {  
    try {  
        Path file = Paths.get(UPLOAD_DIR + filename);  
        Resource resource = new UrlResource(file.toUri());  
        if (resource.exists() && resource.isReadable()) {  
            return ResponseEntity.ok()  
                    .header(HttpHeaders.CONTENT_DISPOSITION, "attachment; filename=\"" + resource.getFilename() + "\"")  
                    .body(resource);  
        }  
        return ResponseEntity.notFound().build();  
    } catch (Exception e) {  
        return ResponseEntity.badRequest().build();  
    }  
}  
```  
2. index.htmlì— ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì¶”ê°€  
```html  
<a th:href="@{/download/{filename}(filename='example.txt')}" th:text="'ë‹¤ìš´ë¡œë“œ'"></a>  
```  

##### 4ë‹¨ê³„: ë¡œì»¬ ì„œë²„ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸
1. í”„ë¡œì íŠ¸ ì‹¤í–‰: IntelliJ IDEA Communityì—ì„œ Run ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ ëª…ë ¹  
```bash  
./gradlew bootRun  
```  
2. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8080 ì ‘ì†  
3. íŒŒì¼ ì„ íƒ í›„ ì—…ë¡œë“œ ë²„íŠ¼ í´ë¦­  
4. ë‹¤ìš´ë¡œë“œ ë§í¬ í´ë¦­ìœ¼ë¡œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ í™•ì¸  

---

#### ğŸ“Œ ë¡œì»¬ ì‹¤í–‰ ë° ë””ë²„ê¹…
1. uploads í´ë” ìƒì„± í™•ì¸ (íŒŒì¼ ì €ì¥ ìœ„ì¹˜)  
2. ë¡œê·¸ í™•ì¸: IntelliJ ì½˜ì†” ë˜ëŠ” application.log  
3. íŒŒì¼ í¬ê¸° ì œí•œ ì¡°ì •: application.ymlì—ì„œ max-file-size ìˆ˜ì •  
4. íŒŒì¼ í˜•ì‹ ì œí•œ: ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ file.getContentType()ìœ¼ë¡œ ê²€ì‚¬  
```java  
if (!file.getContentType().startsWith("image/")) {  
    attributes.addFlashAttribute("message", "ì´ë¯¸ì§€ë§Œ í—ˆìš©");  
    return "redirect:/";  
}  
```  
5. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬: ë„¤íŠ¸ì›Œí¬ íƒ­ìœ¼ë¡œ ìš”ì²­ ì‘ë‹µ ì ê²€  

---

#### âœ Spring Bootë¡œ íŒŒì¼ ì²˜ë¦¬ íŒ
1. ê°„ë‹¨ ì‹œì‘: ë‹¨ì¼ íŒŒì¼ ì—…ë¡œë“œ ë¨¼ì € í…ŒìŠ¤íŠ¸  
2. ë³´ì•ˆ ì£¼ì˜: íŒŒì¼ í˜•ì‹, í¬ê¸° ì œí•œ í•„ìˆ˜  
3. ì—ëŸ¬ ì²˜ë¦¬: ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ì¶œë ¥  
4. í™•ì¥ ê°€ëŠ¥: ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ, S3 ì—°ë™ ì‹œë„  
5. Thymeleaf í™œìš©: ë™ì  íŒŒì¼ ëª©ë¡ í‘œì‹œ ê°€ëŠ¥