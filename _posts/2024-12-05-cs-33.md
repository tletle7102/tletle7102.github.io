---
title: "TCP/IP 프로토콜 스택"
categories:
  - CS Basics
tags:
  - CS Basics
last_modified_at: 
---

### TCP/IP 프로토콜 스택

TCP/IP는 인터넷과 네트워크 통신을 위해 사용되는 **프로토콜 스택(계층 구조)**.

---

#### 1. **TCP/IP 정의**
- **TCP** (Transmission Control Protocol): 데이터를 신뢰성 있게 전송하기 위한 프로토콜.
- **IP** (Internet Protocol): 데이터를 네트워크에서 목적지까지 전달하기 위한 주소 지정 및 경로 설정 프로토콜.

---

#### 2. **TCP/IP 계층 구조**
TCP/IP는 4계층으로 구성되며, 각 계층은 특정한 네트워크 기능을 담당한다.

| 계층                   | 역할                                                          | 프로토콜 예시        |
|------------------------|-------------------------------------------------------------|----------------------|
| **응용 계층**           | 사용자와 네트워크 간의 상호작용을 처리. 응용 프로그램을 위한 데이터 처리. | HTTP, FTP, DNS       |
| **전송 계층**           | 송신자와 수신자 간의 데이터 전송을 신뢰성 있게 보장. 데이터 흐름 제어와 오류 제어 수행. | TCP, UDP             |
| **인터넷 계층**         | 데이터 패킷을 목적지로 전송하기 위한 주소 지정 및 경로 설정. | IP, ICMP, ARP        |
| **네트워크 액세스 계층** | 물리적 네트워크를 통해 데이터 전송. 하드웨어적 연결 및 전송 규격 관리. | Ethernet, Wi-Fi      |

---

#### 3. **TCP와 IP의 역할**
- **TCP**:
  - 데이터 분할 및 재조립.
  - 데이터 손실 및 중복 방지.
  - 포트 번호를 사용해 응용 프로세스 간의 연결 관리.
- **IP**:
  - 데이터 패킷에 출발지와 목적지 IP 주소 추가.
  - 최적 경로를 찾는 라우팅 수행.

---

#### 4. **TCP/IP 작동 과정 (예시)**
1. **HTTP 요청**: 사용자가 브라우저에서 웹사이트를 요청하면 응용 계층에서 HTTP 프로토콜이 요청을 처리.
2. **데이터 전송**: 전송 계층의 TCP가 데이터를 패킷으로 나눔.
3. **경로 설정**: 인터넷 계층의 IP가 패킷에 목적지 주소를 추가하고 경로를 설정.
4. **물리 전송**: 네트워크 액세스 계층에서 패킷을 물리적 네트워크를 통해 전송.

---

#### 5. **3웨이 핸드셰이킹 (3-Way Handshake)**

TCP는 **신뢰성 있는 연결**을 위해 데이터를 전송하기 전에 송신자와 수신자 간에 연결을 설정하는 과정인 **3웨이 핸드셰이킹**을 사용한다. 

1. **SYN**: 클라이언트가 서버에게 연결을 요청하는 **SYN** 패킷을 보낸다.
   - 클라이언트는 "연결을 요청합니다"라는 메시지를 서버에 전송.
   
2. **SYN-ACK**: 서버는 클라이언트의 요청을 받아들이고, "연결을 승인합니다"라는 메시지를 클라이언트에게 **SYN-ACK** 패킷으로 보낸다.
   - 서버는 클라이언트의 요청을 승인하고, 클라이언트에게 응답을 보냄.
   
3. **ACK**: 클라이언트는 서버의 응답을 확인하고, 연결을 완료하는 **ACK** 패킷을 서버에 전송한다.
   - 클라이언트는 서버의 응답을 수락하고, "연결이 완료되었습니다"라는 메시지를 서버에 전송.
   
이 과정을 통해 연결이 설정되며, 이제 송수신이 가능한 상태가 된다. 3웨이 핸드셰이킹은 TCP의 **신뢰성 있는 데이터 전송**을 보장하는 중요한 과정이다.

---
